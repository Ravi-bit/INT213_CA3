<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../Scripts/jquery-3.5.1.min.js"></script>
    <title>Account details</title>
    <link rel="shortcut icon" type="image/*" href="../assests/restaurant.png" sizes="16x16">
    <link rel="stylesheet" href="../bootstrap-4.3.1-dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" />
    <script src="../bootstrap-4.3.1-dist/js/bootstrap.bundle.min.js"></script>
    <script src="../Scripts/sweetalert.min.js"></script>

    <style type="text/css">
        .center {
            display: flex;
            width: 55%;
            height: auto;
            align-items: center;
            margin: 10% auto;
            justify-content: center;
        }
        
        .content {
            width: 80%;
            height: 100%;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #ccc;
        }
        
        .eye:hover {
            color: red;
            cursor: pointer;
        }
        
        .row {
            font-size: 20px;
            margin: 35px 25px;
            font-weight: 'Lato', sans-serif;
        }
        
        .pos {
            flex: 1;
            font-size: 19px;
            margin-left: 12px;
            margin-top: 2px;
        }
        
        .pos1 {
            flex: 1;
            display: inline-block;
            margin-left: 20px;
        }
        
        span i:hover {
            color: red;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <div class="center">
        <div class="content">
            <h5 style="font-size: 28px; text-align: center; text-decoration: underline; ">Change details</h5>
            <div class="row"><span>Username :  </span> <span class="pos" id="useshow"></span><span id="changeuser" onclick="changing(this.id)"><i class="fa fa-edit pos1" ></i></span></div>
            <div class="row"> <span>Password : </span><span class="pos" id="passshow"></span><span id="changepass" onclick="changing(this.id)"><i  class="fa fa-edit pos1" ></i></span></div>
            <div class="row"> <span>mobile Number : </span><span class="pos" id="mobileshow"></span><span id="changenum" onclick="changing(this.id)"><i  class="fa fa-edit pos1" ></i></span></div>
            <div class="row"> <span>Email : </span><span class="pos" id="emailshow"></span><span id="changeemail" onclick="changing(this.id)"><i class="fa fa-edit pos1" ></i></span></div>
            <div class="text-center" style="margin-top:40px;">
                <button type="button" class="btn btn-secondary" onclick="go()" style="margin: 2px 10px;"><span><i class="fas fa-home" style="margin-right: 5px; "></i></span>go to</button>
                <button class="btn btn-primary" onclick="update()" style="margin: 2px 10px;"><span><i class="fa fa-upload" style="margin-right: 5px; "></i></span>update</button>
            </div>
        </div>

    </div>
    <script type="text/javascript">
        window.onload = function() {
            var setName = localStorage.getItem("username");
            var setPass = localStorage.getItem("password");
            var setEmail = localStorage.getItem("email");
            var setMobile = localStorage.getItem("mobile");
            document.getElementById("useshow").innerText = setName;
            document.getElementById("passshow").innerText = setPass;
            if (setEmail !== "undefined") {
                document.getElementById("emailshow").innerText = setEmail;
            } else {
                document.getElementById("emailshow").innerText = "You haven't added yet";
            }
            if (setMobile !== "undefined") {
                document.getElementById("mobileshow").innerText = setMobile;
            } else {
                document.getElementById("mobileshow").innerText = "You haven't added yet";
            }

        }

        function go() {
            window.location.href = "../index.html";
        }

        function changing(target) {
            if (target === "changeuser") {
                swal("re-enter the username:", {
                    content: "input",
                }).then((value) => {
                    document.getElementById("useshow").innerText = value;
                });
            }
            if (target === "changepass") {
                swal("re-enter the password:", {
                    content: "input",
                }).then((value) => {
                    document.getElementById("passshow").innerText = value;
                });
            }
            if (target === "changenum") {
                swal("re-enter the number:", {
                    content: "input",
                }).then((value) => {
                    document.getElementById("mobileshow").innerText = value;
                });
            }
            if (target === "changeemail") {
                swal("re-enter the email:", {
                    content: "input",
                }).then((value) => {
                    document.getElementById("emailshow").innerText = value;
                });
            }

        }

        function update() {
            var nameUp = document.getElementById("useshow").innerText;
            var passUp = document.getElementById("passshow").innerText;
            var mobileUp = document.getElementById("mobileshow").innerText;
            var emailUp = document.getElementById("emailshow").innerText;
            var i = 0
            while (nameUp[i] == " ") {
                i++;
            }
            fr1 = nameUp[i].toUpperCase();
            localStorage.setItem("firstL", fr1);
            localStorage.setItem("username", nameUp);
            localStorage.setItem("password", passUp);
            localStorage.setItem("mobile", mobileUp);
            localStorage.setItem("email", emailUp);
            swal("Successfully updated!", "", "success").then((value) => {
                window.location.href = "../index.html";
            });
        }

        function show() {
            document.getElementById("nopass").style.display = "none";
            document.getElementById("passshow").style.display = "inline-block";
            document.getElementById("ceye").style.display = "inline-block";
            document.getElementById("oeye").style.display = "none";
        }

        function hide() {
            document.getElementById("nopass").style.display = "inline-block";
            document.getElementById("passshow").style.display = "none";
            document.getElementById("oeye").style.display = "inline-block";
            document.getElementById("ceye").style.display = "none";
        }
    </script>
</body>

</html>